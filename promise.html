<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>promise 실습</title>
  </head>
  <body>
    <script>
      /*
          const promiseTimeout = new Promise((resolve, reject) => {
              setTimeout(() => {
                console.log("1s timeout");
                resolve("1s after");
              }, 1000);
            });

            promiseTimeout
              .then((data) => {
                return new Promise((resolve, reject) => {
                  setTimeout(() => {
                    console.log(`${data} 2s timeout`);
                    resolve();
                  }, 1000);
                });
              })
              .then(() => {
                return new Promise((resolve, reject) => {
                  setTimeout(() => {
                    console.log("3s timeout");
                    resolve();
                  }, 1000);
                });
              });
      */
      const result = Promise.all([
        new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve("first");
          }, 1000);
        }),
        new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve("second");
          }, 2000);
        }),
        new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve("third");
          }, 3000);
        }),
      ]).then((data) => {
        console.log(`${data} all`);
      });

      const result1 = Promise.race([
        new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve("first");
          }, 1000);
        }),
        new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve("second");
          }, 2000);
        }),
        new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve("third");
          }, 3000);
        }),
      ]).then((data) => {
        console.log(`${data} race`);
      });
    </script>
  </body>
</html>
